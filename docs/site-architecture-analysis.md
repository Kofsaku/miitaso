# miitaso サイト構成・技術仕様書

## 📊 サイト概要

**プロジェクト名**: miitaso  
**タイプ**: 企業コーポレートサイト（システム開発・コンサルティング会社）  
**技術スタック**: Next.js 14 + TypeScript + Prisma + PostgreSQL  
**ホスティング**: Vercel  
**最終更新**: 2025年1月  

## 🔧 技術スタック詳細

### フロントエンド
- **フレームワーク**: Next.js 14.2.28
- **言語**: TypeScript 5.3.3
- **UI ライブラリ**: React 18.3.1
- **スタイリング**: 
  - Tailwind CSS 3.4.1
  - カスタムアニメーション（CSS Keyframes）
  - Radix UI コンポーネント

### バックエンド・データベース
- **ORM**: Prisma 6.10.1
- **データベース**: PostgreSQL (Neon serverless)
- **認証**: NextAuth.js 4.24.11
- **API**: Next.js API Routes

### 開発・デプロイ
- **パッケージ管理**: npm
- **ビルドツール**: Next.js内蔵Webpack
- **デプロイ**: Vercel自動デプロイ
- **画像最適化**: Next.js Image最適化（無効化設定）

## 📁 プロジェクト構造

```
miitaso/
├── app/                          # App Router (Next.js 13+)
│   ├── (pages)/                  # ページルート
│   │   ├── about/               # 会社概要
│   │   ├── blog/                # ブログ機能
│   │   ├── case-studies/        # 事例紹介
│   │   ├── contact/             # お問い合わせ
│   │   ├── services/            # サービス詳細
│   │   └── pricing/             # 料金案内
│   ├── admin/                   # 管理画面
│   │   ├── blog/               # ブログ管理
│   │   ├── dashboard/          # ダッシュボード
│   │   └── settings/           # 設定
│   ├── api/                     # APIルート
│   │   ├── auth/               # 認証関連
│   │   ├── blog/               # ブログAPI
│   │   ├── contact/            # お問い合わせAPI
│   │   └── chat/               # AI チャット
│   ├── data/                    # 静的データ
│   ├── types/                   # TypeScript型定義
│   ├── globals.css              # グローバルスタイル
│   ├── layout.tsx               # ルートレイアウト
│   └── page.tsx                 # ホームページ
├── components/                   # Reactコンポーネント
│   ├── ui/                      # 再利用可能UIコンポーネント
│   ├── header.tsx               # ヘッダー
│   ├── footer.tsx               # フッター
│   └── [その他コンポーネント]
├── lib/                         # ユーティリティ・設定
│   ├── auth.ts                 # 認証設定
│   ├── prisma.ts               # Prisma設定
│   └── utils.ts                # 共通ユーティリティ
├── prisma/                      # データベース関連
│   ├── schema.prisma           # データベーススキーマ
│   └── migrations/             # マイグレーション
├── public/                      # 静的ファイル
│   ├── images/                 # 画像ファイル
│   └── documents/              # ダウンロード資料
├── scripts/                     # 管理スクリプト
├── docs/                        # ドキュメント
└── [設定ファイル]               # package.json, tsconfig.json等
```

## 🗃️ データベース設計

### 主要テーブル

**Users（ユーザー）**
- 管理者・執筆者の管理
- ロールベース権限制御（ADMIN/EDITOR/WRITER）

**BlogPost（ブログ記事）**
- ブログコンテンツ管理
- カテゴリ・タグ機能
- 下書き・公開状態管理

**Contact（お問い合わせ）**
- フォーム送信データ
- サービス種別分類

**Case Studies（事例）**
- プロジェクト事例データ
- サービス別カテゴリ分け

詳細スキーマは `/prisma/schema.prisma` を参照

## 🎨 デザインシステム

### カラーパレット
- **プライマリ**: Blue (#214 100% 50%)
- **セカンダリ**: グレースケール
- **アクセント**: 各サービスごとに色分け
- **ダークモード**: 対応済み（ThemeProvider）

### アニメーション
- CSS Keyframes による滑らかなアニメーション
- ページ読み込み時のライトエフェクト
- ホバーエフェクト・トランジション

### レスポンシブ対応
- Mobile-first設計
- Tailwind CSSブレイクポイント活用
- 画像・テキストの適切なスケーリング

## 🚀 主要機能

### 1. コーポレートサイト機能
- **ホームページ**: サービス紹介・事例・お問い合わせ
- **サービス詳細**: プロダクト開発、MVP開発、コンサル、UI/UX
- **事例紹介**: プロジェクト成果・クライアント証言
- **会社概要**: チーム・企業情報

### 2. ブログ・コンテンツ管理
- **CMS機能**: 管理画面からのコンテンツ作成・編集
- **カテゴリ・タグ**: コンテンツ分類システム
- **SEO最適化**: メタデータ・構造化データ
- **コメント機能**: 承認制コメントシステム

### 3. お問い合わせ・リード管理
- **フォーム機能**: サービス別お問い合わせ
- **自動メール**: 送信確認・営業通知
- **データ管理**: 問い合わせデータの管理画面

### 4. AI連携機能
- **アイデア生成**: OpenAI APIを活用
- **チャットボット**: カスタマーサポート
- **図表生成**: ビジネス図表の自動生成

## 📈 パフォーマンス・SEO

### パフォーマンス最適化
- **画像最適化**: Next.js Image コンポーネント
- **コード分割**: 動的インポート・レイジーローディング
- **キャッシュ戦略**: Vercel Edge Network

### SEO対策
- **メタデータ**: 動的SEOメタデータ生成
- **構造化データ**: Schema.org対応
- **サイトマップ**: 自動生成機能
- **Google Analytics**: GA4連携

## 🔐 セキュリティ・認証

### 認証システム
- **NextAuth.js**: ソーシャルログイン対応
- **セッション管理**: JWT・データベースセッション
- **ロールベース制御**: 管理機能アクセス制限

### セキュリティ対策
- **CSRF保護**: Next.js内蔵保護
- **入力検証**: Zod スキーマバリデーション
- **SQL インジェクション対策**: Prisma ORM
- **環境変数管理**: .env ファイル暗号化

## 🛠️ 開発・デプロイ環境

### 開発環境
```bash
# 開発サーバー起動
npm run dev

# ビルド
npm run build

# 本番サーバー起動
npm run start

# リント
npm run lint
```

### デプロイ設定
- **自動デプロイ**: GitHub連携
- **プレビューデプロイ**: プルリクエスト毎
- **環境変数**: Vercel Dashboard管理
- **ドメイン**: カスタムドメイン設定

## 📊 分析・モニタリング

### アナリティクス
- **Google Analytics**: GA4設定済み
- **コンバージョン追跡**: フォーム送信・CTA
- **パフォーマンス監視**: Vercel Analytics

### ログ・エラー追跡
- **エラーログ**: サーバーサイドエラー監視
- **パフォーマンス**: Core Web Vitals
- **ユーザー行動**: ヒートマップ（検討中）

## 🔄 継続的改善

### A/Bテスト計画
- **CTA最適化**: ボタンテキスト・配置
- **フォーム最適化**: 項目・UX改善
- **コンテンツ**: 訴求メッセージ最適化

### 技術的改善計画
- **パフォーマンス**: 読み込み速度向上
- **アクセシビリティ**: WCAG準拠
- **モバイル体験**: PWA対応検討

## 📝 今後の拡張予定

### 短期計画（1-3ヶ月）
- [ ] リードマグネット機能
- [ ] メールマーケティング自動化
- [ ] 多言語対応（英語）
- [ ] ダウンロード資料管理

### 中期計画（3-6ヶ月）
- [ ] 顧客ポータル機能
- [ ] オンライン見積もり計算機
- [ ] ウェビナー・イベント管理
- [ ] CRM連携

### 長期計画（6ヶ月以上）
- [ ] モバイルアプリ開発
- [ ] API公開・エコシステム
- [ ] AI機能拡張
- [ ] 国際展開対応

## 🔗 関連ドキュメント

- [セットアップガイド](./product-owner-setup-guide.md)
- [デプロイメントガイド](./vercel-deployment-guide.md)
- [データベース設計](./blog-database-schema.md)
- [ブログ要件](./blog-requirements.md)
- [本番環境設定](./production-database-setup.md)

---

**更新履歴**
- 2025-01-01: 初版作成
- 2025-01-01: サイト構成分析完了・技術スタック更新

このドキュメントは、miitasoサイトの全体像を技術・ビジネス両面から包括的に解説し、開発・運用・改善の指針として活用されます。